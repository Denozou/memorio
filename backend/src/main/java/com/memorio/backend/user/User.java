package com.memorio.backend.user;import jakarta.persistence.*;import org.hibernate.annotations.UuidGenerator;import jakarta.persistence.Enumerated;import jakarta.persistence.EnumType;import javax.management.MXBean;import java.time.OffsetDateTime;import java.util.HashSet;import java.util.Set;import java.util.UUID;@Entity@Table(name="users")public class User {    @Id    @UuidGenerator    @Column(name="id", columnDefinition = "uuid")    private UUID id;    @Column(name="email", nullable = false, unique = true, columnDefinition = "citext")    private String email;    @Column(name="password_hash", nullable = true, columnDefinition = "text")    private String passwordHash;    @Column(name = "display_name", length = 100)    private String displayName;    @Enumerated(EnumType.STRING)    @Column(name = "role", nullable = false)    private Role role = Role.USER;    @Column(name = "skill_level", nullable = false)    private int skillLevel = 1;    @Column(name = "preferred_language", length = 8)    private String preferredLanguage;    @Column(name = "picture_url", columnDefinition = "text")    private String pictureUrl;    @OneToMany(mappedBy = "user", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)    private Set<UserIdentity>identities = new HashSet<>();    @Column(name="email_verified", nullable = false)    private boolean emailVerified = false;    @Column(name = "two_factor_enabled", nullable = false)    private boolean twoFactorEnabled = false;    @Column(name = "two_factor_secret", columnDefinition = "text")    private String twoFactorSecret;    @Column(name = "backup_codes", columnDefinition = "text")    private String backupCodes;    @Column(name = "two_factor_enabled_at")    private OffsetDateTime twoFactorEnabledAt;    @Column(name = "created_at", insertable = false, updatable = false)    private OffsetDateTime createdAt;    @Column(name = "updated_at", insertable = false, updatable = false)    private OffsetDateTime updatedAt;    public UUID getId() { return id; }    public void setId(UUID id) { this.id = id; }    public String getEmail() { return email; }    public void setEmail(String email) { this.email = email; }    public String getPasswordHash() { return passwordHash; }    public void setPasswordHash(String passwordHash) { this.passwordHash = passwordHash; }    public String getDisplayName(){return displayName;}    public void setDisplayName(String displayName){        this.displayName = displayName;    }    public Role getRole(){return role;}    public void setRole(Role role){        this.role = role;    }    public int getSkillLevel(){return skillLevel;}    public void setSkillLevel(int skillLevel){this.skillLevel = skillLevel;}    public String getPreferredLanguage(){return preferredLanguage;}    public void setPreferredLanguage(String preferredLanguage){        this.preferredLanguage = preferredLanguage;    }    public String getPictureUrl() { return pictureUrl; }    public void setPictureUrl(String pictureUrl) {this.pictureUrl = pictureUrl;}    public Set<UserIdentity> getIdentities(){return identities;}    public void setIdentities(Set<UserIdentity> identities){        this.identities = identities;    }    public boolean isEmailVerified() {        return emailVerified;    }    public void setEmailVerified(boolean emailVerified) {        this.emailVerified = emailVerified;    }    public void addIdentity(UserIdentity identity){        identities.add(identity);        identity.setUser(this);    }    public void removeIdentity(UserIdentity identity){        identities.remove(identity);        identity.setUser(null);    }    public boolean isTwoFactorEnabled() {        return twoFactorEnabled;    }    public void setTwoFactorEnabled(boolean twoFactorEnabled) {        this.twoFactorEnabled = twoFactorEnabled;    }    public String getTwoFactorSecret() {        return twoFactorSecret;    }    public void setTwoFactorSecret(String twoFactorSecret) {        this.twoFactorSecret = twoFactorSecret;    }    public String getBackupCodes() {        return backupCodes;    }    public void setBackupCodes(String backupCodes) {        this.backupCodes = backupCodes;    }    public OffsetDateTime getTwoFactorEnabledAt() {        return twoFactorEnabledAt;    }    public void setTwoFactorEnabledAt(OffsetDateTime twoFactorEnabledAt) {        this.twoFactorEnabledAt = twoFactorEnabledAt;    }    public OffsetDateTime getCreatedAt() { return createdAt; }    public OffsetDateTime getUpdatedAt() { return updatedAt; }}